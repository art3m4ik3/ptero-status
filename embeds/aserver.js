"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeAServerEmbed=void 0;const status_1=require("./status"),makeAServerEmbed=(e,a,i,t)=>{const s=e.embed({title:`${i.name}`,description:i.description,fields:[{name:e.e("owner").toUpperCase(),value:i.relationships?.user?.attributes.username??"",inline:!0},{name:e.e("server_id").toUpperCase(),value:i.external_id??i.identifier,inline:!0},{name:e.e("egg").toUpperCase(),value:i.relationships?.egg?.attributes.name??"",inline:!0},{name:"​",value:`**${e.e("limits").toUpperCase()}:**`},{name:e.e("cpu").toUpperCase(),value:e.functions.unlimitedOrValue(i.limits.cpu),inline:!0},{name:e.e("mem").toUpperCase(),value:e.functions.unlimitedOrValue(i.limits.memory),inline:!0},{name:e.e("disk").toUpperCase(),value:e.functions.unlimitedOrValue(i.limits.disk),inline:!0},{name:e.e("databases").toUpperCase(),value:`${i.relationships?.databases?.data.length??0}/${i.feature_limits.databases}`,inline:!0},{name:e.e("allocations").toUpperCase(),value:`${i.relationships?.allocations?.data.length}/${i.feature_limits.allocations?i.feature_limits.allocations:1}`,inline:!0},{name:e.e("backup_limit").toUpperCase(),value:`${i.feature_limits.backups}`,inline:!0},{name:"​",value:`**${e.e("server_info").toUpperCase()}:**`}],url:`${e.config.pteroHost}/server/${i.identifier}`},{settings:a});return i.suspended?s.addFields([{name:e.e("status").toUpperCase(),value:e.e("suspended").toUpperCase()}]):t?s.addFields((0,status_1.serverStatusFields)(e,t)):s.addFields([{name:e.e("not_available").toUpperCase(),value:"​",inline:!0}]),s};exports.makeAServerEmbed=makeAServerEmbed;