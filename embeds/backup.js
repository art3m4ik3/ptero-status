"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeBackupEmbed=void 0;const moment_1=__importDefault(require("moment")),bytesToHuman=e=>{if(0===e)return"0 kB";const t=Math.floor(Math.log(e)/Math.log(1024));return`${Number((e/Math.pow(1024,t)).toFixed(2))} ${["Bytes","kB","MB","GB","TB"][t]}`},makeBackupEmbed=(e,t,i,n)=>{const a=[{name:e.e("created"),value:`<t:${(0,moment_1.default)(new Date(n.created_at)).unix()}:R>`,inline:!0},{name:e.e("locked"),value:n.is_locked?"ðŸ”’":"ðŸ”“",inline:!0},{name:e.e("disk_space"),value:n.is_successful?bytesToHuman(n.bytes):"ðŸ—˜",inline:!1}];n.ignored_files.length>0&&a.push({name:e.e("ignored_files"),value:`**${n.ignored_files.join("** **")}**`,inline:!1});return e.embed({title:`${n.name}`,fields:a,url:`${e.config.pteroHost}/server/${i.identifier}/backups`},{settings:t})};exports.makeBackupEmbed=makeBackupEmbed;